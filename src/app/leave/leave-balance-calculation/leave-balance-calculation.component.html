<h1>View & Upload Leave Balance</h1>
<div class="row my-4">
    <div class="card">
        <div class="card-header">Information</div>
        <div class="card-body">
            <div>
                <app-icon [name]="'info'"></app-icon> The "Download Template" feature lets you download the number of
                records that are displayed on each page. 100 records can be seen at most per page when using the
                pagination option. If there are more than 100 records, you must navigate using pagination and "Download Template" & "Upload"
                as necessary from each page.
            </div>
        </div>
    </div>
    
    <div class="col-md-12">
        <p-table #dt [value]="dataRow" dataKey="id" [rowHover]="true" styleClass="p-datatable-sm table-font-sm">
            <ng-template pTemplate="caption">
                <div class="table-header">
                    Data
                    <!-- <button (click)="exportToExcel()" class="btn btn-primary me-3 mb-3" [disabled]="dataRow.length <= 0"><app-icon [name]="'download'"></app-icon> Download Template</button>
                    <p-fileUpload mode="basic" name="demo[]" [maxFileSize]="100000" (onSelect)="onSelect($event)" (onUpload)="onUpload($event)" [auto]="true" chooseLabel="Upload Template"></p-fileUpload> -->
                </div>
            </ng-template>
            <ng-template pTemplate="header">
                <tr>
                    <th>
                        <div class="flex justify-content-between align-items-center">
                            Active Employee Name
                        </div>
                    </th>
                    <th>
                        <div class="flex justify-content-between align-items-center">
                            CL
                        </div>
                    </th>
                    <th>
                        <div class="flex justify-content-between align-items-center">
                            PL
                        </div>
                    </th>
                    <th>
                        <div class="flex justify-content-between align-items-center">
                            SL
                        </div>
                    </th>
                    <th>
                        <div class="flex justify-content-between align-items-center">
                            OL
                        </div>
                    </th>
                    <th>
                        <div class="flex justify-content-between align-items-center">
                            CO
                        </div>
                    </th>
                    <th>
                        <div class="flex justify-content-between align-items-center">
                            Updated On
                        </div>
                    </th>
                    <th>
                        <div class="flex justify-content-between align-items-center">
                            Bulk Uploaded On
                        </div>
                    </th>
                    <th>
                        <div class="flex justify-content-between align-items-center">
                            Action
                        </div>
                    </th>
                </tr>
            </ng-template>

            <ng-template pTemplate="body" let-rowData let-expanded="expanded">
                <tr class="p-selectable-row">
                    <td>
                        <span class="p-column-title">Emp Name</span>
                        {{rowData?.user_full_name}}
                    </td>
                    <td>
                        <span class="p-column-title">CL</span>
                        {{rowData?.cl || '--'}}
                    </td>
                    <td>
                        <span class="p-column-title">PL</span>
                        {{rowData?.pl || '--'}}
                    </td>
                    <td>
                        <span class="p-column-title">SL</span>
                        {{rowData?.sl || '--'}}
                    </td>
                    <td>
                        <span class="p-column-title">OL</span>
                        {{rowData?.ol || '--'}}
                    </td>
                    <td>
                        <span class="p-column-title">CO</span>
                        {{rowData?.co || '--'}}
                    </td>
                    <td>
                        <span class="p-column-title"> Updated On</span>
                        {{rowData?.leave_balance_updated_on | date: 'dd/MM/yyyy h:mm:ss a' || '--'}}
                    </td>
                    <td>
                        <span class="p-column-title">Bulk Uploaded On</span>
                        {{rowData?.leave_balance_bulk_updated_on | date: 'dd/MM/yyyy h:mm:ss a' || '--'}}
                    </td>
                    <td>
                        <span class="p-column-title"> Action</span>
                        <button pButton pRipple type="button" icon="pi pi-cog"
                            class="p-button-rounded p-button-text p-button-secondary"
                            (click)="editUserProfile(rowData?.user_id)"></button>
                    </td>
                </tr>
            </ng-template>

            <ng-template pTemplate="emptymessage">
                <tr>
                    <td colspan="8">No records found.</td>
                </tr>
            </ng-template>
        </p-table>
        <p-paginator [rows]="itemPerPage" [totalRecords]="totalRecords" [rowsPerPageOptions]="itemPerPageDropdown"
            [showCurrentPageReport]="true"
            currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" styleClass="my-4"
            (onPageChange)="paginate($event)"></p-paginator>
    </div>
</div>