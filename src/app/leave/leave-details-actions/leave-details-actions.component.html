<h1>Leave Details</h1>
<div class="back-to-page mt-1 mb-4">
    <a [routerLink]="['/leave/manage']">
        <app-icon class="me-2" [name]="'chevron-left'"></app-icon> Go back to Leave Management </a>
</div>

<div class="row my-4">
    <div class="col-md-12 table-responsive">
        <div class="row my-2">
            <div class="col-md-3 fw-bold text-right">Leave Status</div>
            <div class="col-md-9">
                <span style="font-size: 14px;" [innerHTML]="getStatusText(rowData?.leave_status)?.text"
                    class="badge {{getStatusText(rowData?.leave_status)?.cssClass}}"></span>
            </div>
        </div>
        <div class="row my-2">
            <div class="col-md-3 fw-bold text-right">Leave Application No</div>
            <div class="col-md-9">{{rowData?.leave_req_id}}</div>
        </div>
        <div class="row my-2">
            <div class="col-md-3 fw-bold text-right">Date</div>
            <div class="col-md-9">{{rowData?.leave_created_on | date: 'dd-MM-YYYY h:mm:ss a'}}</div>
        </div>
        <div class="row my-2">
            <div class="col-md-3 fw-bold">Applicant Name</div>
            <div class="col-md-9">
                <div class="me-2">{{rowData?.user_firstname}} {{rowData?.user_lastname}}</div>
            </div>
        </div>
        <div class="row my-2">
            <div class="col-md-3 fw-bold">Applicant Contact</div>
            <div class="col-md-9">
                <span class="me-2">{{rowData?.user_email}}</span>
                <span>{{rowData?.user_phone1}}; {{rowData?.user_phone2}}</span>
            </div>
        </div>
        <div class="row my-2">
            <div class="col-md-3 fw-bold">Leave Duration</div>
            <div class="col-md-9">
                <span>{{rowData?.leave_from_date| date: 'dd/MM/YYYY'}} - {{rowData?.leave_to_date | date:
                    'dd/MM/YYYY'}}</span>
                <span class="ms-2">
                    {{rowData?.applied_for_days_count}} <span
                        [innerHTML]="rowData?.applied_for_days_count<=1 ? 'day' :'days'"></span>
                </span>
            </div>
        </div>

        <div class="row my-2">
            <div class="col-md-3 fw-bold text-right">Leave Type</div>
            <div class="col-md-9">
                {{rowData?.leave_type}} - {{rowData?.leave_term}}
            </div>
        </div>

        <div class="row my-2">
            <div class="col-md-3 fw-bold text-right">Reason</div>
            <div class="col-md-9">{{rowData?.leave_reason}}</div>
        </div>

        <div class="row my-2">
            <div class="col-md-3 fw-bold text-right">Leave Balance</div>
            <div class="col-md-9">
                <span class="me-4"
                    [innerHTML]="rowData?.on_apply_cl_bal ? 'CL: ' + rowData?.on_apply_cl_bal : ''"></span>
                <span class="me-4"
                    [innerHTML]="rowData?.on_apply_pl_bal ? 'PL: ' + rowData?.on_apply_pl_bal : ''"></span>
                <span class="me-4"
                    [innerHTML]="rowData?.on_apply_sl_bal ? 'SL: ' + rowData?.on_apply_sl_bal : ''"></span>

            </div>
        </div>

        <div class="row my-2" *ngIf="rowData?.debited_cl || rowData?.debited_pl || rowData?.debited_sl">
            <div class="col-md-3 fw-bold text-right">Leave Balance Debit</div>
            <div class="col-md-9 text-danger">
                <span class="me-4" [innerHTML]="rowData?.debited_cl ? 'CL: ' + rowData?.debited_cl : ''"></span>
                <span class="me-4" [innerHTML]="rowData?.debited_pl ? 'PL: ' + rowData?.debited_pl : ''"></span>
                <span class="me-4" [innerHTML]="rowData?.debited_sl ? 'SL: ' + rowData?.debited_sl : ''"></span>
            </div>
        </div>

        <div class="row my-2" *ngIf="rowData?.credited_cl || rowData?.credited_pl || rowData?.credited_sl">
            <div class="col-md-3 fw-bold text-right">Leave Balance Credit/Adjusted</div>
            <div class="col-md-9 text-danger">
                <span class="me-4" [innerHTML]="rowData?.credited_cl ? 'CL: ' + rowData?.credited_cl : ''"></span>
                <span class="me-4" [innerHTML]="rowData?.credited_pl ? 'PL: ' + rowData?.credited_pl : ''"></span>
                <span class="me-4" [innerHTML]="rowData?.credited_sl ? 'SL: ' + rowData?.credited_sl : ''"></span>
            </div>
        </div>

        <div class="row my-2">
            <div class="col-md-3 fw-bold text-right">Reason</div>
            <div class="col-md-9">{{rowData?.leave_reason}}</div>
        </div>
    </div>
</div>



<div class="row">
    <h5>Leave Workflow Approval Status</h5>
    <div class="col-12">
        <div class="progress my-4">
            <div class="progress-bar" role="progressbar" style="width: 25%;" aria-valuenow="25" aria-valuemin="0"
                aria-valuemax="100">Process 1/3 completed</div>
        </div>
    </div>
    <div class="col-md-4 text-center mb-4">
        <h6>Applicant</h6>
        <app-icon class="me-2" [name]="'send-check-fill'" [width]="24" [height]="24"></app-icon>
        <div class="">{{rowData?.user_firstname}} {{rowData?.user_lastname}}</div>
        <div class="small">{{rowData?.leave_created_on | date: 'dd-MM-YYYY h:mm:ss a'}}</div>
    </div>
    <div class="col-md-4 text-center mb-4">
        <h6>L1 Workflow - {{rowData?.supervisor_approver_status}}</h6>
        <app-icon class="me-2" [name]="'person'" [width]="24" [height]="24"></app-icon>
        <div class="">{{rowData?.user_firstname}} {{rowData?.user_lastname}}</div>
        <div class="small">{{rowData?.leave_created_on | date: 'dd-MM-YYYY h:mm:ss a'}}</div>
    </div>
    <div class="col-md-4 text-center mb-4">
        <h6>L2 Workflow - {{rowData?.director_approver_status}}</h6>
        <app-icon class="me-2" [name]="'person'" [width]="24" [height]="24"></app-icon>
        <div class="">{{rowData?.user_firstname}} {{rowData?.user_lastname}}</div>
        <div class="small">{{rowData?.leave_created_on | date: 'dd-MM-YYYY h:mm:ss a'}}</div>
    </div>
</div>